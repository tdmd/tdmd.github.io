<html>
<head>
<title>Iron Man Battery by @tvdmd</title>
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style>

@font-face {
	font-family:libel;
	src: url("libel-suit-rg.ttf");
}

body
{
	margin:0;
	padding:0;
	letter-spacing:2;
	font-family: libel;
	background-color: transparent;
	text-transform: uppercase;
}

#divContainer
{
	visibility: hidden;
}

#imgHeart
{
	width:200;
	position: absolute;
	top: 0;
	left: 0;
}

#divCentralCircle {
	position: absolute;
	left: 71;
	top: 70;
	background-color:#101212;
	width: 60px;
  height: 60px;
	border-radius:50px;
	box-shadow: 0 0 8px #a5ffff, inset 0 0 8px #a5ffff;
	-webkit-animation: pulse 2s linear 1s infinite;
}

#divMainCircle
{
	position: absolute;
	left: 76;
	top: 75;
	padding-top: 40px;
	background: #101212;
	width: 50px;
	height: 10px;
	text-align: center;
	vertical-align: middle;

-webkit-border-radius: 50px;
	 -moz-border-radius: 50px;
				border-radius: 50px;
}

#divBatteryPercentage {

		position: absolute;
		left: 77;
		top: 84;
		font-size: 25px;
		background-color:transparent;;
		color: #82ffff;
		font-weight: bold;
		width: 50;
		text-align: center;
		vertical-align: middle;
}

@-webkit-keyframes pulse {
  0% { box-shadow:0 0 8px #82ffff, inset 0 0 8px #82ffff; }
  50% { box-shadow:0 0 16px #82ffff, inset 0 0 12px #82ffff; }
  100% { box-shadow:0 0 8px #82ffff, inset 0 0 8px #82ffff; }
}

.dotOutside{
    position:absolute;
    top:0;
    left:0;
    width:8px;
    height:8px;
    background:#82ffff;
    border-radius:50%;
}

.dotInside{
    position:absolute;
    top:0;
    left:0;
    width:6px;
    height:6px;
    background:#82ffff;
    border-radius:50%;
}

.sunOutside{
	width:92px;
	height:92px;
	top:55px;
	left:55px;
    position:absolute;
    -webkit-animation-iteration-count:infinite;
    -webkit-animation-timing-function:linear;
    -webkit-animation-name:orbitOutside8;
    -webkit-animation-duration:2s;
}


#sunOutside1{
    -webkit-animation-name:orbitOutside1;
}

#sunOutside2{
    -webkit-animation-name:orbitOutside2;
}

#sunOutside3{
    -webkit-animation-name:orbitOutside3;
}

#sunOutside4{
    -webkit-animation-name:orbitOutside4;
}

#sunOutside5{
    -webkit-animation-name:orbitOutside5;
}

#sunOutside6{
    -webkit-animation-name:orbitOutside6;
}

#sunOutside7{
    -webkit-animation-name:orbitOutside7;
}

#sunOutside8{
    -webkit-animation-name:orbitOutside8;
}

.sunInside{
	width:60px;
	height:60px;
	top:71px;
	left:71px;
    position:absolute;
    -webkit-animation-iteration-count:infinite;
    -webkit-animation-timing-function:linear;
    -webkit-animation-duration:0.5s;
}

#sunInside1{
    -webkit-animation-name:orbitInside1;
}

#sunInside2{
    -webkit-animation-name:orbitInside2;
}

#sunInside3{
    -webkit-animation-name:orbitInside3;
}

#sunInside4{
    -webkit-animation-name:orbitInside4;
}

#sunInside5{
    -webkit-animation-name:orbitInside5;
}

#sunInside6{
    -webkit-animation-name:orbitInside6;
}

#sunInside7{
    -webkit-animation-name:orbitInside7;
}

#sunInside8{
    -webkit-animation-name:orbitInside8;
}

@-webkit-keyframes orbitOutside1 {
from { -webkit-transform:rotate(45deg) }
to { -webkit-transform:rotate(0deg) }
}

@-webkit-keyframes orbitOutside2 {
from { -webkit-transform:rotate(90deg) }
to { -webkit-transform:rotate(45deg) }
}

@-webkit-keyframes orbitOutside3 {
from { -webkit-transform:rotate(135deg) }
to { -webkit-transform:rotate(90deg) }
}

@-webkit-keyframes orbitOutside4 {
from { -webkit-transform:rotate(180deg) }
to { -webkit-transform:rotate(135deg) }
}

@-webkit-keyframes orbitOutside5 {
from { -webkit-transform:rotate(225deg) }
to { -webkit-transform:rotate(180deg) }
}

@-webkit-keyframes orbitOutside6 {
from { -webkit-transform:rotate(270deg) }
to { -webkit-transform:rotate(225deg) }
}

@-webkit-keyframes orbitOutside7 {
from { -webkit-transform:rotate(315deg) }
to { -webkit-transform:rotate(270deg) }
}

@-webkit-keyframes orbitOutside8 {
from { -webkit-transform:rotate(360deg) }
to { -webkit-transform:rotate(315deg) }
}

@-webkit-keyframes orbitInside1 {
from { -webkit-transform:rotate(0deg) }
to { -webkit-transform:rotate(45deg) }
}

@-webkit-keyframes orbitInside2 {
from { -webkit-transform:rotate(45deg) }
to { -webkit-transform:rotate(90deg) }
}

@-webkit-keyframes orbitInside3 {
from { -webkit-transform:rotate(90deg) }
to { -webkit-transform:rotate(135deg) }
}

@-webkit-keyframes orbitInside4 {
from { -webkit-transform:rotate(135deg) }
to { -webkit-transform:rotate(180deg) }
}

@-webkit-keyframes orbitInside5 {
from { -webkit-transform:rotate(180deg) }
to { -webkit-transform:rotate(225deg) }
}

@-webkit-keyframes orbitInside6 {
from { -webkit-transform:rotate(225deg) }
to { -webkit-transform:rotate(270deg) }
}

@-webkit-keyframes orbitInside7 {
from { -webkit-transform:rotate(270deg) }
to { -webkit-transform:rotate(315deg) }
}

@-webkit-keyframes orbitInside8 {
from { -webkit-transform:rotate(315deg) }
to { -webkit-transform:rotate(360deg) }
}
</style>
<!-- Cycript data access-->
<script type="text/cycript">
	var getBatteryPercentage = function() { return [IS2System batteryPercent]; };
	var getBatteryStateAsInteger = function() { return [IS2System batteryStateAsInteger]; };
	var getBatteryState = function() { return [IS2System batteryState]; };
</script>
<script type="text/javascript" charset="utf-8">
/* for testing
var blnOnlyShowWhenPluggedIn = false;
var intBatteryPercent = 100;

function getBatteryPercentage()
{
	intBatteryPercent = intBatteryPercent - 10;
	if (intBatteryPercent<0) intBatteryPercent=100;
	return intBatteryPercent;
}

var getBatteryStateAsInteger = function() { return 2; };
var getBatteryState = function() { return "CHARGING"; };
*/
</script>

<script type="text/javascript" charset="utf-8">
function startOnLoad()
{
	setInterval ("setBattery()", 1000);
}

function setBattery()
{
	// get the charging status, 1=not charging, 2=charging, 3=fullycharged
	var intBatteryState = getBatteryStateAsInteger();

	if ((!blnOnlyShowWhenPluggedIn) || (blnOnlyShowWhenPluggedIn && (intBatteryState==2 || intBatteryState==3)))
	{
		document.getElementById('divContainer').style.visibility = "visible";
		var intBatteryPercent = parseInt(getBatteryPercentage());
		document.getElementById('divBatteryPercentage').innerHTML = intBatteryPercent;

		document.getElementById("divCentralCircle").style.opacity = intBatteryPercent * 0.01;
	}
	else {
		document.getElementById('divContainer').style.visibility = "hidden";
	}
}
</script>
</head>
<body onload="startOnLoad()">
<div id="divContainer">
	<img src="heart.png" id="imgHeart">
	<div id="divCentralCircle"></div>
	<div id="divMainCircle"></div>
	<div id="divBatteryPercentage"></div>
	<div class="sunOutside" id="sunOutside1"><div class="dotOutside"></div></div>​
	<div class="sunOutside" id="sunOutside2"><div class="dotOutside"></div></div>​
	<div class="sunOutside" id="sunOutside3"><div class="dotOutside"></div></div>​
	<div class="sunOutside" id="sunOutside4"><div class="dotOutside"></div></div>​
	<div class="sunOutside" id="sunOutside5"><div class="dotOutside"></div></div>​
	<div class="sunOutside" id="sunOutside6"><div class="dotOutside"></div></div>​
	<div class="sunOutside" id="sunOutside7"><div class="dotOutside"></div></div>​
	<div class="sunOutside" id="sunOutside8"><div class="dotOutside"></div></div>​
	<div class="sunInside" id="sunInside1"><div class="dotInside"></div></div>​
	<div class="sunInside" id="sunInside2"><div class="dotInside"></div></div>​
	<div class="sunInside" id="sunInside3"><div class="dotInside"></div></div>​
	<div class="sunInside" id="sunInside4"><div class="dotInside"></div></div>​
	<div class="sunInside" id="sunInside5"><div class="dotInside"></div></div>​
	<div class="sunInside" id="sunInside6"><div class="dotInside"></div></div>​
	<div class="sunInside" id="sunInside7"><div class="dotInside"></div></div>​
	<div class="sunInside" id="sunInside8"><div class="dotInside"></div></div>​
</div>
</body>
</html>
